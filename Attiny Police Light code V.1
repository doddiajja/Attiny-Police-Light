/*
Simple police Light
*/

int blue =  PB0;
int red = PB1;              //Outputs

int analog1 = A3;
int analog2 = A2;               //inputs

int d0 = 30;
int d1 = 70;
int d2 = 200;                 // 3 different dely times, used for the animations

int mode = 1;                //dont change, it is used for the buttons

int mode1 = 0;               //dont change, it is used for the buttons

void setup(){
  
  
  pinMode(blue, OUTPUT);
  pinMode(red, OUTPUT);
  
  pinMode(analog1, INPUT);
  pinMode(analog2, INPUT);                     //define in/outputs
   
}


void loop(){
  
  
  




if ( analogRead(analog1) > 300 && mode1 == 1 ) {             //to turn it on if the button 1 is pressed
  
  mode1 = 0;
  
  
      digitalWrite(blue, HIGH);
    digitalWrite(red, HIGH);
    
    delay(500);
    
    digitalWrite(red, LOW);
    digitalWrite(blue, LOW);

  
  
  }
  




if ( analogRead(analog1) > 300 && mode1 == 0 ) {              //to turn it on if the button 1 is pressed again
  
  mode1 = 1;
  
      digitalWrite(blue, HIGH);
    digitalWrite(red, HIGH);
    
    delay(500);
    
    digitalWrite(red, LOW);
    digitalWrite(blue, LOW);

  
  
  }
  
  if ( mode1 == 1 ){                                             //if it is turned on do animations
  
  if ( analogRead(analog2) > 600 && mode == 2){                     // first animation starts when button is pressed
  
  //american Light
  
  mode = 1;
  
      digitalWrite(blue, HIGH);
    digitalWrite(red, HIGH);
    
    delay(500);
    
    digitalWrite(red, LOW);
    digitalWrite(blue, LOW);

  

  
 
  }
 
 if (analogRead(analog2) > 600 && mode == 1){                                // seccond animation, starts when button is pressed 
   
    //German Lights
    
    mode = 2;
    digitalWrite(blue, HIGH);
    digitalWrite(red, HIGH);
    
    delay(500);
    
    digitalWrite(red, LOW);
    digitalWrite(blue, LOW);

 }
  


if ( mode == 1 ) {
  
   //american Light                                 //put first animation after here

  digitalWrite(blue, HIGH);
  delay(d0);
  digitalWrite(blue, LOW);
  delay(d1);
  
  digitalWrite(blue, HIGH);
  delay(d0);
  digitalWrite(blue, LOW);
  delay(d1);
  
  digitalWrite(blue, HIGH);
  delay(d0);
  digitalWrite(blue, LOW);
  delay(d1);
  
  
  delay(d2+d2/4);
  
  digitalWrite(red, HIGH);
  delay(d0);
  digitalWrite(red, LOW);
  delay(d1);
  
  digitalWrite(red, HIGH);
  delay(d0);
  digitalWrite(red, LOW);
  delay(d1);
  
  digitalWrite(red, HIGH);
  delay(d0);
  digitalWrite(red, LOW);
  delay(d1);
  
  delay(d2);
  
}
  
if ( mode == 2 ) {
  
  
   
 //German Lights                        //put seccond aniamtion here
 
  digitalWrite(blue, HIGH);
  delay(d2*3.5);
  digitalWrite(blue, LOW);
  
  
  
  
  
  digitalWrite(red, HIGH);
  delay(d2*3.5);
  digitalWrite(red, LOW);
  
  
  
  
}
  }

  
  

 
  
}
